(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{7335:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>v});var r=a(7876),l=a(4232),n=a(754);function s(){let t=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!t.current)return;let e=n.Ltv(t.current);e.selectAll("*").remove(),e.append("circle").attr("cx",150).attr("cy",70).attr("r",50).attr("fill","steelblue")},[]),(0,r.jsx)("div",{className:"flex justify-center mt-10",children:(0,r.jsx)("svg",{ref:t,width:300,height:150})})}var c=a(4939),o=a(4515),u=a(5198),d=a(513);let i=d.z.object({date:d.z.string(),value:d.z.number(),category:d.z.string()}),f=d.z.array(i),g=t=>{let{data:e}=t,a=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let t=f.safeParse(e);if(!t.success){console.error("Dados inv\xe1lidos:",t.error);return}let r=t.data.map(t=>({...t,date:new Date(t.date)})),l=Array.from(new Set(r.map(t=>t.category))),s=l.map(t=>({category:t,values:r.filter(e=>e.category===t)})),c={top:20,right:30,bottom:50,left:50},o=n.Ltv(a.current);o.selectAll("*").remove(),o.attr("width",600).attr("height",400);let u=n.w7C().domain(n.Xxv(r,t=>t.date)).range([c.left,600-c.right]),d=n.m4Y().domain([0,n.T9B(r,t=>t.value)||0]).nice().range([400-c.bottom,c.top]),i=n.UMr().domain(l).range(n.t55),g=n.n8j().x(t=>u(t.date)).y(t=>d(t.value));o.append("g").attr("transform","translate(0,".concat(400-c.bottom,")")).call(n.l78(u).ticks(5).tickFormat(n.DCK("%Y-%m-%d"))).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),o.append("g").attr("transform","translate(".concat(c.left,",0)")).call(n.V4s(d)),s.forEach(t=>{o.append("path").datum(t.values).attr("fill","none").attr("stroke",i(t.category)).attr("stroke-width",2).attr("d",g),o.append("text").attr("x",600-c.right-60).attr("y",d(t.values[t.values.length-1].value)).attr("fill",i(t.category)).text(t.category).style("font-size","12px")})},[e]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("svg",{ref:a})})},m=[{date:"2023-01-01",value:10,category:"A"},{date:"2023-01-01",value:20,category:"B"},{date:"2023-01-02",value:15,category:"A"},{date:"2023-01-02",value:25,category:"B"},{date:"2023-01-03",value:30,category:"A"},{date:"2023-01-03",value:28,category:"B"}];function v(){let[t,e]=(0,l.useState)(null);return(0,l.useEffect)(()=>{e(u)},[]),(0,r.jsxs)("main",{className:"p-8",children:[(0,r.jsx)(c.A,{}),(0,r.jsx)(s,{}),(0,r.jsx)(g,{data:m}),t?(0,r.jsx)(o.A,{geoData:t}):(0,r.jsx)("p",{children:"Carregando mapa..."}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Teste de API"})]})}},9468:(t,e,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/aedv",function(){return a(7335)}])}},t=>{var e=e=>t(t.s=e);t.O(0,[230,754,513,578,636,593,792],()=>e(9468)),_N_E=t.O()}]);