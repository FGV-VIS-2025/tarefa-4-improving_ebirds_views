(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{1487:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var r=a(7876),l=a(4232),n=a(9470);function s(){let e=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(!e.current)return;let t=n.Ltv(e.current);t.selectAll("*").remove(),t.append("circle").attr("cx",150).attr("cy",70).attr("r",50).attr("fill","steelblue")},[]),(0,r.jsx)("div",{className:"flex justify-center mt-10",children:(0,r.jsx)("svg",{ref:e,width:300,height:150})})}var o=a(4939);let c=e=>{let{width:t=800,height:a=450,geoData:s,points:o=[],onBrushSelection:c}=e,i=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(console.log("GeoData recebido no WorldMap:",s),!s)return;let e=n.Ltv(i.current);e.selectAll("path").remove(),e.selectAll("circle").remove();let r=e.append("g"),l=n.bAh().fitSize([t,a],s),d=n.zFW().projection(l);r.selectAll("path").data(s.features).enter().append("path").attr("d",e=>d(e)||"").attr("fill","#4dabf7").attr("stroke","#fff"),r.selectAll("circle").data(o).enter().append("circle").attr("cx",e=>l([e.lng,e.lat])[0]).attr("cy",e=>l([e.lng,e.lat])[1]).attr("r",e=>2*Math.sqrt(e.howMany)).attr("fill","red").attr("opacity",.1);let u=n.s_O().scaleExtent([1,8]).on("zoom",e=>{r.attr("transform",e.transform)});e.call(u);let f=n.V$7().extent([[0,0],[t,a]]).on("end",r=>{if(!r.selection)return;let[[s,o],[d,f]]=r.selection,h=n._V(e.node()),[[m,v],[x,p]]=[h.invert([s,o]),h.invert([d,f])],g=Math.min(t/(x-m),a/(p-v)),j=[t/2-g*(m+(x-m)/2),a/2-g*(v+(p-v)/2)];if(i.current&&n.Ltv(i.current).call(u.transform,n.GSI.translate(j[0],j[1]).scale(g)),"function"!=typeof l.invert){console.warn("Projection does not support invert.");return}let b=null==l?void 0:l.invert([m,v]),y=null==l?void 0:l.invert([x,p]);b&&y&&c&&c([b,y]),e.select(".brush").remove(),e.call(u),n.Ltv(window).on("mouseup.zoom",null)});e.on("contextmenu",t=>{t.preventDefault(),e.select(".brush").remove(),e.on(".zoom",null),e.append("g").attr("class","brush").call(f)})},[s,t,a,o]),(0,r.jsx)("svg",{ref:i,width:t,height:a,style:{cursor:"grab"}})};var i=a(5198),d=a(513);let u=d.z.object({date:d.z.string(),value:d.z.number(),category:d.z.string()}),f=d.z.array(u),h=e=>{let{data:t}=e,a=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=f.safeParse(t);if(!e.success){console.error("Dados inv\xe1lidos:",e.error);return}let r=e.data.map(e=>({...e,date:new Date(e.date)})),l=Array.from(new Set(r.map(e=>e.category))),s=l.map(e=>({category:e,values:r.filter(t=>t.category===e)})),o={top:20,right:30,bottom:50,left:50},c=n.Ltv(a.current);c.selectAll("*").remove(),c.attr("width",600).attr("height",400);let i=n.w7C().domain(n.Xxv(r,e=>e.date)).range([o.left,600-o.right]),d=n.m4Y().domain([0,n.T9B(r,e=>e.value)||0]).nice().range([400-o.bottom,o.top]),u=n.UMr().domain(l).range(n.t55),h=n.n8j().x(e=>i(e.date)).y(e=>d(e.value));c.append("g").attr("transform","translate(0,".concat(400-o.bottom,")")).call(n.l78(i).ticks(5).tickFormat(n.DCK("%Y-%m-%d"))).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),c.append("g").attr("transform","translate(".concat(o.left,",0)")).call(n.V4s(d)),s.forEach(e=>{c.append("path").datum(e.values).attr("fill","none").attr("stroke",u(e.category)).attr("stroke-width",2).attr("d",h),c.append("text").attr("x",600-o.right-60).attr("y",d(e.values[e.values.length-1].value)).attr("fill",u(e.category)).text(e.category).style("font-size","12px")})},[t]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("svg",{ref:a})})},m=[{date:"2023-01-01",value:10,category:"A"},{date:"2023-01-01",value:20,category:"B"},{date:"2023-01-02",value:15,category:"A"},{date:"2023-01-02",value:25,category:"B"},{date:"2023-01-03",value:30,category:"A"},{date:"2023-01-03",value:28,category:"B"}];function v(){let[e,t]=(0,l.useState)(null);return(0,l.useEffect)(()=>{t(i)},[]),(0,r.jsxs)("main",{className:"p-8",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)(s,{}),(0,r.jsx)(h,{data:m}),e?(0,r.jsx)(c,{geoData:e}):(0,r.jsx)("p",{children:"Carregando mapa..."}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Teste de API"})]})}},4939:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(7876),l=a(8230),n=a.n(l);function s(){return(0,r.jsx)("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex justify-between h-16 items-center",children:[(0,r.jsx)(n(),{href:"/",className:"text-xl font-bold text-blue-600",children:"MeuSite"}),(0,r.jsxs)("div",{className:"space-x-6 hidden md:flex",children:[(0,r.jsx)(n(),{href:"/",className:"hover:text-blue-600",children:"Root"}),(0,r.jsx)(n(),{href:"/aboult",className:"hover:text-blue-600",children:"Aboult"}),(0,r.jsx)(n(),{href:"/aedv",className:"hover:text-blue-600",children:"AEDV"})]}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)("button",{className:"text-blue-600 focus:outline-none",children:"â˜°"})})]})})})}},9468:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/aedv",function(){return a(1487)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[232,230,513,198,636,593,792],()=>t(9468)),_N_E=e.O()}]);